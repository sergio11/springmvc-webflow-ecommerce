<!DOCTYPE html>
<html lang="en"
      xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org"
      layout:decorator="frontend/layout">
    <head>
        <title th:text="#{frontend.detail.page.title(${productLine.product.name})}">Product Detail</title>
        <!-- BEGIN PAGE LEVEL STYLES -->
        <th:block layout:fragment="page-styles">
            <link th:href="@{/assets/global/plugins/fancybox/source/jquery.fancybox.css}" rel="stylesheet">
            <link th:href="@{/assets/global/plugins/uniform/css/uniform.default.css}" rel="stylesheet" type="text/css">
            <link th:href="@{/assets/global/plugins/rateit/src/rateit.css}" rel="stylesheet" type="text/css">
        </th:block>
        <!-- END PAGE LEVEL STYLES -->
    </head>
    <body>
        <!-- BEGIN MAIN -->
        <div layout:fragment="content">
            <!-- BEGIN CONTENT -->
            <div class="col-md-9 col-sm-7">
                <div class="product-page">
                    <div class="row">
                        <div class="col-md-6 col-sm-6">
                            <div class="product-main-image">
                                <img th:src="@{/images/products/{image}(image=${productLine.image})}" alt="Cool green dress with red bell" class="img-responsive" data-BigImgsrc="../../assets/frontend/pages/img/products/model7.jpg">
                            </div>
                            <div class="product-other-images">
                                <a href="../../assets/frontend/pages/img/products/model3.jpg" class="fancybox-button" rel="photos-lib"><img alt="Berry Lace Dress" src="../../assets/frontend/pages/img/products/model3.jpg"></a>
                                <a href="../../assets/frontend/pages/img/products/model4.jpg" class="fancybox-button" rel="photos-lib"><img alt="Berry Lace Dress" src="../../assets/frontend/pages/img/products/model4.jpg"></a>
                                <a href="../../assets/frontend/pages/img/products/model5.jpg" class="fancybox-button" rel="photos-lib"><img alt="Berry Lace Dress" src="../../assets/frontend/pages/img/products/model5.jpg"></a>
                            </div>
                        </div>
                        <div class="col-md-6 col-sm-6">
                            <h1 th:text="${productLine.product.name}">Product Name</h1>
                            <div class="price-availability-block clearfix">
                                <div class="price">
                                    <strong>
                                        <span th:text="${productLine.product.price}">47.00</span>
                                    </strong>
                                </div>
                                <div class="availability" th:with="inStock = ${ productLine.stock > 0 }">
                                    Availability: 
                                    <strong th:if="${inStock}" class="label label-success">In Stock</strong>
                                    <strong th:unless="${inStock}" class="label label-danger">Not available</strong>
                                </div>
                            </div>
                            <div class="description">
                                <p th:text="${productLine.product.shortDescription}">Lorem ipsum dolor ut sit ame dolore  adipiscing elit, sed nonumy nibh sed euismod laoreet dolore magna aliquarm erat volutpat 
                                    Nostrud duis molestie at dolore.</p>
                            </div>
                           
                            <div class="product-page-cart">
                                <div class="product-quantity">
                                    <input id="product-quantity" type="text" value="1" readonly class="form-control input-sm">
                                </div>
                                <a href="#" th:href="@{/shopping-cart/add/{id}(id=${productLine.id})}" th:value="#{common.btns.add.to.cart}" class="btn btn-primary">Add to cart</a>
                            </div>
                            <div class="review">
                                <input type="range" value="4" step="0.25" id="backing4">
                                    <div class="rateit" data-rateit-backingfld="#backing4" data-rateit-resetable="false"  data-rateit-ispreset="true" data-rateit-min="0" data-rateit-max="5">
                                    </div>
                                    <a href="javascript:;" th:text="#{common.reviews.total(${productLine.product.reviews.size()})}">7 reviews</a>
                                    &nbsp;&nbsp;|&nbsp;&nbsp;
                                    <a href="javascript:;" th:text="#{common.reviews.write}">Write a review</a>
                            </div>
                        </div>

                        <div class="product-page-content">
                            <ul id="myTab" class="nav nav-tabs">
                                <li><a href="#Description" data-toggle="tab" th:text="#{frontend.detail.tabs.description}">Description</a></li>
                                <li><a href="#Information" data-toggle="tab" th:text="#{frontend.detail.tabs.information}">Information</a></li>
                                <li class="active"><a href="#Reviews" data-toggle="tab" th:text="#{common.reviews.total(${productLine.product.reviews.size()})}">Reviews (2)</a></li>
                            </ul>
                            <div id="myTabContent" class="tab-content">
                                <div class="tab-pane fade" id="Description" th:text="${productLine.product.description}">
                                    <p>Lorem ipsum dolor ut sit ame dolore  adipiscing elit, sed sit nonumy nibh sed euismod laoreet dolore magna aliquarm erat sit volutpat Nostrud duis molestie at dolore. Lorem ipsum dolor ut sit ame dolore  adipiscing elit, sed sit nonumy nibh sed euismod laoreet dolore magna aliquarm erat sit volutpat Nostrud duis molestie at dolore. Lorem ipsum dolor ut sit ame dolore  adipiscing elit, sed sit nonumy nibh sed euismod laoreet dolore magna aliquarm erat sit volutpat Nostrud duis molestie at dolore. </p>
                                </div>
                                <div class="tab-pane fade" id="Information" th:text="${productLine.product.completeDesc}"></div>
                                <div class="tab-pane fade in active" id="Reviews">
                                    <th:block th:include="frontend/fragments/product/review::list(${reviews})" />
                                    <div id="createReviewContainer" 
                                         th:data-source="@{/products/{productId}/reviews/create(productId=${productLine.product.id})}"></div>
                                </div>
                            </div>
                        </div>
                        <div class="sticker sticker-sale"></div>
                    </div>
                </div>
            </div>
            <!-- END CONTENT -->

        </div>
        
        <th:block layout:fragment="page-scripts">
            <script th:src="@{/assets/global/plugins/fancybox/source/jquery.fancybox.pack.js}" type="text/javascript"></script><!-- pop up -->
            <script th:src="@{/assets/global/plugins/zoom/jquery.zoom.min.js}" type="text/javascript"></script><!-- product zoom -->
            <script th:src="@{/assets/global/plugins/bootstrap-touchspin/bootstrap.touchspin.js}" type="text/javascript"></script><!-- Quantity -->
            <script th:src="@{/assets/global/plugins/uniform/jquery.uniform.min.js}" type="text/javascript"></script>
            <script th:src="@{/assets/global/plugins/rateit/src/jquery.rateit.js}" type="text/javascript"></script>
            <script th:src="@{/assets/frontend/pages/scripts/product-detail.js}" type="text/javascript"></script>
        </th:block>
        
        <!-- BEGIN INIT SCRIPT -->
        <th:block layout:fragment="init-script">
            <script type="text/javascript">
                jQuery(document).ready(function() {
                    Layout.initImageZoom();
                    Layout.initTouchspin();
                    Layout.initUniform();
                    ProductDetail.init();
                });
            </script>
        </th:block>
        <!-- END INIT SCRIPT -->
    </body>
</html>
